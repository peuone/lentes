<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√ìticas Diniz - Assistente de Lentes</title>
    <!-- Importando a fonte Open Sans do Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #c4161c; /* Vermelho das √ìticas Diniz */
            --secondary-color: #FFFFFF; /* Branco */
            --hover-color: #a01217; /* Vermelho mais escuro para hover */
            --back-color: #6C757D; /* Cinza para o bot√£o de voltar */
            --text-color: #333333; /* Cinza escuro para textos */
            --background-color: #F4F4F4; /* Cinza claro para fundo da p√°gina */
            --white-text: #FFFFFF; /* Branco para textos em fundos escuros */
            --premium-color: #FFD700; /* Dourado para realces premium */
        }

        body {
            font-family: 'Open Sans', sans-serif; /* Fonte Open Sans */
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header img {
            max-width: 200px; /* Tamanho da logo */
            height: auto;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .option-card {
            background: var(--secondary-color);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            text-align: center;
        }

        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .option-card img {
            width: 100%;
            max-width: 150px;
            height: auto;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .option-card h4 {
            margin: 10px 0;
            color: var(--primary-color);
        }

        .option-card p {
            font-size: 0.9em;
            color: var(--text-color);
            line-height: 1.4;
        }

        .navigation-buttons {
            text-align: center;
            margin-top: 30px;
        }

        button {
            background-color: var(--primary-color);
            color: var(--white-text);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px;
            transition: background-color 0.3s;
            font-family: 'Open Sans', sans-serif;
        }

        .back-button {
            background-color: var(--back-color) !important;
        }

        .back-button:hover {
            background-color: #5A6268 !important;
        }

        button:hover {
            background-color: var(--hover-color);
        }

        .summary {
            background: var(--secondary-color);
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        .premium-badge {
            background: var(--premium-color);
            color: var(--text-color);
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        h3 {
            color: var(--primary-color);
        }

        .whatsapp-button {
            background-color: #25D366; /* Verde do WhatsApp */
            color: white;
            padding: 15px 25px;
            border-radius: 5px;
            text-decoration: none;
            display: inline-block;
            margin-top: 20px;
            font-size: 1.1em;
            transition: background-color 0.3s;
        }

        .whatsapp-button:hover {
            background-color: #128C7E; /* Verde mais escuro no hover */
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            color: var(--text-color);
            font-size: 0.9em;
        }

        .welcome-step {
            text-align: center;
        }

        .welcome-step input {
            padding: 10px;
            font-size: 1em;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin-bottom: 20px;
            width: 80%;
            max-width: 300px;
        }

        .observations {
            margin-top: 20px;
        }

        .observations label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-color);
        }

        .observations textarea {
            width: 100%;
            max-width: 500px;
            padding: 10px;
            font-size: 1em;
            border-radius: 5px;
            border: 1px solid #ccc;
            resize: vertical;
            min-height: 100px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Logo da √ìticas Diniz -->
        <div class="header">
            <img src="https://github.com/user-attachments/assets/e352ef86-5b03-444d-adc0-8f83017dc053" alt="Logo √ìticas Diniz">
        </div>

        <!-- P√°gina inicial com campo para o nome do cliente -->
        <div id="welcome-step" class="step active welcome-step">
            <h3>Bem-vindo ao Assistente de Lentes</h3>
            <input type="text" id="client-name" placeholder="Digite o nome do cliente">
            <div class="navigation-buttons">
                <button onclick="startAtendimento()">Iniciar Atendimento</button>
            </div>
        </div>

        <!-- Passos da navega√ß√£o -->
        <div id="step1" class="step"></div>
        <div id="step2" class="step"></div>
        <div id="step3" class="step"></div>
        <div id="step4" class="step"></div>
        <div id="step5" class="step"></div>
        <div id="summary" class="step summary"></div>
    </div>

    <!-- Rodap√© com cr√©ditos -->
    <div class="footer">
        <footer style="text-align: center; padding: 10px; background-color: #f4f4f4; font-size: 14px;">
            <p>üöß Em desenvolvimento por <strong>Pedro Rodrigues</strong> ‚Äì <em>N√£o sou Dev, mas t√¥ tentando!</em> üòÖ</p>
            <p>üì© Sugest√µes? Me chama no WhatsApp: <a href="https://wa.me/5581997665895" target="_blank">+55 81 99766-5895</a></p>
        </footer>
    </div>

    <script>
        // Objeto de op√ß√µes
        const options = {
            'visao-simples': {
                types: [
                    { name: 'Convencional', img: 'pictures/vsconvencional.png?text=Convencional', desc: 'Lentes tradicionais com tecnologia b√°sica.' },
                    { name: 'Digital', img: 'pictures/vsdigital.png?text=Digital', desc: 'Lentes com design digital para maior precis√£o.' },
                    { name: 'Freeform', img: 'pictures/vsfreeform.png?text=Freeform', desc: 'Lentes personalizadas com tecnologia avan√ßada.' }
                ],
                fotossensivel: ['Sim', 'N√£o'],
                antirreflexo: ['Sem Antirreflexo', 'Verde', 'Azul', 'Solar']
            },
            'multifocais': {
                types: [
                    { name: 'Convencional', img: 'pictures/convencional.png?text=Convencional', desc: 'Lentes multifocais tradicionais.' },
                    { name: 'Digital', img: 'pictures/digital.png?text=Digital', desc: 'Multifocais com design digital.' },
                    { name: 'Freeform', img: 'pictures/freeform.png?text=Freeform', desc: 'Multifocais personalizadas com tecnologia avan√ßada.' }
                ],
                versions: [
                    { name: 'DMAX GO', img: 'pictures/dmaxgo.png?text=DMAX+GO', desc: '‚Ä¢ Conforto e Nitidez com Pre√ßo Acess√≠vel' },
                    { name: 'DMAX LIGHT', img: 'pictures/dmaxlight.png?text=DMAX+LIGHT', desc: 'Versatilidade, F√°cil Adapta√ß√£o e Equil√≠brio entre os Campos' },
                    { name: 'DMAX SMART', img: 'pictures/dmaxsmart.png?text=DMAX+SMART', desc: 'Distribui√ß√£o Balanceada, Melhor Custo-benef√≠cio, Menor Distor√ß√£o Perif√©rica e Redu√ß√£o da Flutua√ß√£o.' },
                    { name: 'DMAX TOP', img: 'pictures/dmaxtop.png?text=DMAX+TOP', desc: 'Conforto Superior, Alta Tecnologia, Nitidez Excelente, Maior Contraste e Amplos Campos Visuais.' },
                    { name: 'DMAX INFINITY', img: 'pictures/dmaxinfinity.png?text=DMAX+INFINITY', desc: 'Tecnologia de Ponta, M√°xima Personaliza√ß√£o, Foco em Todas as Dire√ß√µes, Vis√£o Clara e Precisa, Qualidade Inigual√°vel e Conforto Total.' }
                ],
                fotossensivel: ['Sim', 'N√£o'],
                antirreflexo: {
                    'Convencional': ['Sem Antirreflexo', 'Verde', 'Azul', 'Solar'],
                    'Digital': ['Sem Antirreflexo', 'Verde', 'Azul', 'Solar'],
                    'Freeform': ['Sem Antirreflexo', 'Verde', 'Azul', 'Verde Premium', 'Azul Premium', 'Solar']
                }
            },
            'bifocais': {
                types: [
                    { name: 'Convencional', img: 'https://via.placeholder.com/150?text=Convencional', desc: 'Lentes bifocais tradicionais.' },
                    { name: 'Digital', img: 'https://via.placeholder.com/150?text=Digital', desc: 'Bifocais com design digital.' },
                    { name: 'Freeform', img: 'https://via.placeholder.com/150?text=Freeform', desc: 'Bifocais personalizadas com tecnologia avan√ßada.' }
                ],
                categories: ['Ultex', 'Panoptik', 'Kriptok', 'Executive'],
                fotossensivel: ['Sim', 'N√£o'],
                antirreflexo: ['Sem Antirreflexo', 'Verde', 'Azul', 'Solar']
            }
        };

        // Estado atual
        let currentSelection = {
            category: '',
            type: '',
            versao: '',
            fotossensivel: '',
            antirreflexo: '',
            bifocalCategory: '',
            clientName: '',
            receitaMedica: ''
        };

        // Hist√≥rico de navega√ß√£o
        let currentStepHistory = ['welcome-step'];

        // Fun√ß√£o para navegar entre passos
        function navigateTo(stepId, fromHistory = false) {
            if (!fromHistory) currentStepHistory.push(stepId);
            document.querySelectorAll('.step').forEach(step => step.classList.remove('active'));
            document.getElementById(stepId).classList.add('active');
        }

        // Fun√ß√£o para voltar
        function goBack() {
            if (currentStepHistory.length > 1) {
                currentStepHistory.pop();
                const prevStep = currentStepHistory[currentStepHistory.length - 1];
                navigateTo(prevStep, true);
            }
        }

        // Iniciar atendimento
        function startAtendimento() {
            const clientName = document.getElementById('client-name').value;
            if (!clientName) {
                alert('Por favor, insira o nome do cliente.');
                return;
            }
            currentSelection.clientName = clientName;
            showReceitaMedicaStep();
        }

        // Nova etapa para perguntar sobre a receita m√©dica
        function showReceitaMedicaStep() {
            const step = document.getElementById('step1');
            step.innerHTML = `
                <h3>Voc√™ tem receita m√©dica?</h3>
                <div class="options-grid">
                    <div class="option-card" onclick="selectReceitaMedica('Sim')">
                        <h4>Sim, tenho receita.</h4>
                        <p>Quero prosseguir com o assistente de lentes.</p>
                    </div>
                    <div class="option-card" onclick="selectReceitaMedica('N√£o')">
                        <h4>N√£o tenho receita m√©dica.</h4>
                        <p>Gostaria de agendar uma consulta.</p>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <button class="back-button" onclick="goBack()">Voltar</button>
                </div>
            `;
            navigateTo('step1');
        }

        // Sele√ß√£o de receita m√©dica
        function selectReceitaMedica(opt) {
            currentSelection.receitaMedica = opt;
            if (opt === 'Sim') {
                showCategorySelection();
            } else {
                showAgendarConsultaStep();
            }
        }

        // Nova etapa para perguntar se quer enviar sugest√£o de lentes
        function showAgendarConsultaStep() {
            const step = document.getElementById('step2');
            step.innerHTML = `
                <h3>Quer enviar para a loja sua sugest√£o de lentes?</h3>
                <div class="options-grid">
                    <div class="option-card" onclick="selectEnviarSugestao('Sim')">
                        <h4>Sim</h4>
                        <p>Quero enviar minha sugest√£o de lentes.</p>
                    </div>
                    <div class="option-card" onclick="selectEnviarSugestao('N√£o')">
                        <h4>N√£o</h4>
                        <p>Quero apenas agendar uma consulta.</p>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <button class="back-button" onclick="goBack()">Voltar</button>
                </div>
            `;
            navigateTo('step2');
        }

        // Sele√ß√£o de enviar sugest√£o
        function selectEnviarSugestao(opt) {
            if (opt === 'Sim') {
                showCategorySelection();
            } else {
                showAgendamentoConsulta();
            }
        }

        // Nova etapa para agendamento de consulta
        function showAgendamentoConsulta() {
            const summary = document.getElementById('summary');
            const whatsappMessage = `Ol√°, gostaria de agendar uma consulta. Cliente: ${currentSelection.clientName}`;

            const whatsappLink = `https://wa.me/5581997665895?text=${encodeURIComponent(whatsappMessage)}`;

            summary.innerHTML = `
                <h3>Agendamento de Consulta:</h3>
                <p><strong>Cliente:</strong> ${currentSelection.clientName}</p>
                <a href="${whatsappLink}" class="whatsapp-button" target="_blank">Clique aqui para agendar a consulta</a>
                <div class="navigation-buttons">
                    <button onclick="init()">Reiniciar</button>
                </div>
            `;
            navigateTo('summary');
        }

        // Mostrar sele√ß√£o de categoria
function showCategorySelection() {
    const step2 = document.getElementById('step2');
    step2.innerHTML = `
        <h3>Selecione o Tipo de Lente:</h3>
        <div class="options-grid">
            <div class="option-card" onclick="selectCategory('visao-simples')">
                <img src="pictures/visao simples 2.png" alt="Vis√£o Simples">
                <h4>Vis√£o Simples</h4>
                <p>Lentes para corre√ß√£o de problemas de vis√£o de perto ou longe.</p>
            </div>
            <div class="option-card" onclick="selectCategory('multifocais')">
                <img src="pictures/MULTIFOCAL2.png" alt="Multifocais">
                <h4>Multifocais</h4>
                <p>Lentes que corrigem vis√£o de perto, intermedi√°ria e longe.</p>
            </div>
            <div class="option-card" onclick="selectCategory('bifocais')">
                <img src="pictures/bifocal2.png" alt="Bifocais">
                <h4>Bifocais</h4>
                <p>Lentes com duas √°reas de vis√£o: perto e longe.</p>
            </div>
        </div>
        <div class="navigation-buttons">
            <button class="back-button" onclick="goBack()">Voltar</button>
        </div>
    `;
    navigateTo('step2');
}

        // Sele√ß√£o de categoria
        function selectCategory(category) {
            currentSelection.category = category;
            showTypeSelection();
        }

        // Mostrar sele√ß√£o de tipo
        function showTypeSelection() {
            const step3 = document.getElementById('step3');
            const categoryData = options[currentSelection.category];
            step3.innerHTML = `
                <h3>Selecione o Tipo de ${currentSelection.category.replace('-', ' ').toUpperCase()}:</h3>
                <div class="options-grid">
                    ${categoryData.types.map(type => `
                        <div class="option-card" onclick="selectType('${type.name}')">
                            <img src="${type.img}" alt="${type.name}">
                            <h4>${type.name}</h4>
                            <p>${type.desc}</p>
                        </div>
                    `).join('')}
                </div>
                <div class="navigation-buttons">
                    <button class="back-button" onclick="goBack()">Voltar</button>
                </div>
            `;
            navigateTo('step3');
        }

        // Sele√ß√£o de tipo
        function selectType(type) {
            currentSelection.type = type;
            if (currentSelection.category === 'multifocais' && type === 'Freeform') {
                showVersionSelection();
            } else if (currentSelection.category === 'bifocais') {
                showBifocalCategorySelection();
            } else {
                showFotossensivelSelection();
            }
        }

        // Mostrar sele√ß√£o de vers√£o (apenas para Multifocais Freeform)
        function showVersionSelection() {
            const step4 = document.getElementById('step4');
            step4.innerHTML = `
                <h3>Selecione a Vers√£o Freeform:</h3>
                <div class="options-grid">
                    ${options.multifocais.versions.map(version => `
                        <div class="option-card" onclick="selectVersion('${version.name}')">
                            <img src="${version.img}" alt="${version.name}">
                            <h4>${version.name}</h4>
                            <p>${version.desc}</p>
                        </div>
                    `).join('')}
                </div>
                <div class="navigation-buttons">
                    <button class="back-button" onclick="goBack()">Voltar</button>
                </div>
            `;
            navigateTo('step4');
        }

        // Sele√ß√£o de vers√£o
        function selectVersion(version) {
            currentSelection.versao = version;
            showFotossensivelSelection();
        }

        // Mostrar sele√ß√£o de categoria para bifocais
        function showBifocalCategorySelection() {
            const step4 = document.getElementById('step4');
            step4.innerHTML = `
                <h3>Selecione a Categoria de Bifocais:</h3>
                <div class="options-grid">
                    ${options.bifocais.categories.map(category => `
                        <div class="option-card" onclick="selectBifocalCategory('${category}')">
                            <img src="https://via.placeholder.com/150?text=${category}" alt="${category}">
                            <h4>${category}</h4>
                        </div>
                    `).join('')}
                </div>
                <div class="navigation-buttons">
                    <button class="back-button" onclick="goBack()">Voltar</button>
                </div>
            `;
            navigateTo('step4');
        }

        // Sele√ß√£o de categoria para bifocais
        function selectBifocalCategory(category) {
            currentSelection.bifocalCategory = category;
            showFotossensivelSelection();
        }

        // Mostrar sele√ß√£o de fotossens√≠vel
        function showFotossensivelSelection() {
            const stepId = currentSelection.versao ? 'step5' : 'step4';
            const step = document.getElementById(stepId);
            step.innerHTML = `
                <h3>Tratamento Fotossens√≠vel:</h3>
                <div class="options-grid">
                    ${options[currentSelection.category].fotossensivel.map(opt => `
                        <div class="option-card" onclick="selectFotossensivel('${opt}')">
                            <img src="${opt === 'Sim' ? 'pictures/fotossensivel-sim.png' : 'pictures/fotossensivel-nao.png'}" alt="${opt}">
                            <h4>${opt}</h4>
                            <p>${opt === 'Sim' ? 'Lentes que escurecem automaticamente ao sol, proporcionando conforto visual em ambientes externos e internos.' : 'Lentes sem altera√ß√£o ao sol, mantendo a transpar√™ncia em qualquer ambiente.'}</p>
                        </div>
                    `).join('')}
                </div>
                <div class="navigation-buttons">
                    <button class="back-button" onclick="goBack()">Voltar</button>
                </div>
            `;
            navigateTo(stepId);
        }

        // Sele√ß√£o de fotossens√≠vel
        function selectFotossensivel(opt) {
            currentSelection.fotossensivel = opt;
            showAntirreflexoSelection();
        }

        // Mostrar sele√ß√£o de antirreflexo
        function showAntirreflexoSelection() {
            const stepId = currentSelection.versao ? 'step5' : 'step4';
            const step = document.getElementById(stepId);
            const antirreflexoOptions = currentSelection.category === 'multifocais' ?
                options.multifocais.antirreflexo[currentSelection.type] : options[currentSelection.category].antirreflexo;

            step.innerHTML = `
                <h3>Tratamento Antirreflexo:</h3>
                <div class="options-grid">
                    ${antirreflexoOptions.map(opt => `
                        <div class="option-card" onclick="selectAntirreflexo('${opt}')">
                            <img src="${getAntirreflexoImage(opt)}" alt="${opt}">
                            <h4>${opt} ${opt.includes('Premium') ? '<span class="premium-badge">2 anos de garantia</span>' : ''}</h4>
                            <p>${getAntirreflexoDescription(opt)}</p>
                        </div>
                    `).join('')}
                </div>
                <div class="navigation-buttons">
                    <button class="back-button" onclick="goBack()">Voltar</button>
                </div>
            `;
            navigateTo(stepId);
        }

        // Fun√ß√£o para retornar a imagem correta para cada tipo de antirreflexo
        function getAntirreflexoImage(opt) {
            switch (opt) {
                case 'Verde':
                    return 'pictures/arverde.png';
                case 'Azul':
                    return 'pictures/arazul.png';
                case 'Solar':
                    return 'pictures/antirreflexo-solar.png';
                case 'Verde Premium':
                    return 'pictures/arverde.png';
                case 'Azul Premium':
                    return 'pictures/arazul.png';
                case 'Sem Antirreflexo':
                    return 'pictures/sem-antirreflexo.png';
                default:
                    return 'https://via.placeholder.com/150?text=' + opt;
            }
        }

        // Fun√ß√£o para retornar a descri√ß√£o correta para cada tipo de antirreflexo
        function getAntirreflexoDescription(opt) {
            switch (opt) {
                case 'Sem Antirreflexo':
                    return 'Sem tratamento adicional.';
                case 'Verde':
                    return 'Prote√ß√£o contra reflexos e luz intensa, ideal para ambientes externos.';
                case 'Azul':
                    return 'Prote√ß√£o contra a luz azul nociva de dispositivos digitais, reduzindo a fadiga ocular.';
                case 'Solar':
                    return 'Lentes solares para prote√ß√£o contra raios UV.';
                case 'Verde Premium':
                    return 'Prote√ß√£o premium contra reflexos e luz intensa, com durabilidade de 2 anos. Ideal para ambientes externos.';
                case 'Azul Premium':
                    return 'Prote√ß√£o premium contra a luz azul nociva, com durabilidade de 2 anos. Reduz a fadiga ocular em dispositivos digitais.';
                default:
                    return 'Descri√ß√£o n√£o dispon√≠vel.';
            }
        }

        // Sele√ß√£o de antirreflexo
        function selectAntirreflexo(opt) {
            currentSelection.antirreflexo = opt;
            showSummary();
        }

        // Mostrar resumo final
        function showSummary() {
            const summary = document.getElementById('summary');
            let whatsappMessage = `Ol√°, gostaria de solicitar uma lente com as seguintes especifica√ß√µes:\n\n`;
            whatsappMessage += `*Cliente:* ${currentSelection.clientName}\n`;
            whatsappMessage += `*Categoria:* ${currentSelection.category.replace('-', ' ').toUpperCase()}\n`;
            whatsappMessage += `*Tipo:* ${currentSelection.type}\n`;
            if (currentSelection.versao) whatsappMessage += `*Vers√£o:* ${currentSelection.versao}\n`;
            if (currentSelection.bifocalCategory) whatsappMessage += `*Categoria Bifocal:* ${currentSelection.bifocalCategory}\n`;
            whatsappMessage += `*Fotossens√≠vel:* ${currentSelection.fotossensivel}\n`;
            whatsappMessage += `*Antirreflexo:* ${currentSelection.antirreflexo}\n`;

            // Se o cliente n√£o tem receita m√©dica, mas escolheu as lentes, informar que quer agendar consulta
            if (currentSelection.receitaMedica === 'N√£o') {
                whatsappMessage += `\n*Observa√ß√£o:* O cliente n√£o possui receita m√©dica e deseja agendar uma consulta.\n`;
            }

            // Captura o valor do campo de observa√ß√µes
            const observations = document.getElementById('observations')?.value || '';
            if (observations) {
                whatsappMessage += `\n*Observa√ß√µes Adicionais:*\n${observations}\n`;
            }

            const whatsappLink = `https://wa.me/5581997665895?text=${encodeURIComponent(whatsappMessage)}`;

            summary.innerHTML = `
                <h3>Resumo da Sua Escolha:</h3>
                <p><strong>Cliente:</strong> ${currentSelection.clientName}</p>
                <p><strong>Categoria:</strong> ${currentSelection.category.replace('-', ' ').toUpperCase()}</p>
                <p><strong>Tipo:</strong> ${currentSelection.type}</p>
                ${currentSelection.versao ? `<p><strong>Vers√£o:</strong> ${currentSelection.versao}</p>` : ''}
                ${currentSelection.bifocalCategory ? `<p><strong>Categoria Bifocal:</strong> ${currentSelection.bifocalCategory}</p>` : ''}
                <p><strong>Fotossens√≠vel:</strong> ${currentSelection.fotossensivel}</p>
                <p><strong>Antirreflexo:</strong> ${currentSelection.antirreflexo}</p>
                
                <!-- Campo de observa√ß√µes -->
                <div class="observations">
                    <label for="observations">Observa√ß√µes (opcional):</label>
                    <textarea id="observations" placeholder="Adicione observa√ß√µes, se necess√°rio"></textarea>
                </div>

                <div class="navigation-buttons">
                    <button class="back-button" onclick="goBack()">Voltar</button>
                    <button onclick="init()">Reiniciar</button>
                </div>
                <a href="${whatsappLink}" class="whatsapp-button" target="_blank" id="whatsapp-link">Clique aqui e envie para a loja</a>
            `;

            // Atualiza o link do WhatsApp ao digitar observa√ß√µes
            document.getElementById('observations').addEventListener('input', function() {
                const updatedObservations = this.value;
                const updatedMessage = whatsappMessage + (updatedObservations ? `\n\n*Observa√ß√µes Adicionais:*\n${updatedObservations}` : '');
                const updatedLink = `https://wa.me/5581997665895?text=${encodeURIComponent(updatedMessage)}`;
                document.getElementById('whatsapp-link').href = updatedLink;
            });

            navigateTo('summary');
        }

        // Reiniciar o processo
        function init() {
            currentSelection = {
                category: '',
                type: '',
                versao: '',
                fotossensivel: '',
                antirreflexo: '',
                bifocalCategory: '',
                clientName: '',
                receitaMedica: ''
            };
            currentStepHistory = ['welcome-step'];
            navigateTo('welcome-step');
        }

        // Inicializa o sistema
        init();
    </script>
</body>
</html>
